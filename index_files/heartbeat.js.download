(function(g){var window=this;'use strict';var x3_=function(O,R){if(!Number.isFinite(O))return String(O);O=String(O);var J=O.indexOf(".");J===-1&&(J=O.length);var l=O[0]==="-"?"-":"";l&&(O=O.substring(1));return l+(0,g.nWM)("0",Math.max(0,R-J))+O},U3t=function(){return{Y:"svg",
C:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},K:[{Y:"path",C:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},jT4=function(){return{Y:"svg",
C:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},K:[{Y:"path",C:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},Lxs=function(O){typeof O==="number"?(this.date=QTk(O,0,1),ED(this,1)):g.Rb(O)?(this.date=QTk(O.getFullYear(),O.getMonth(),O.getDate()),ED(this,O.getDate())):(this.date=new Date(g.Fk()),O=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),ED(this,O))},QTk=function(O,R,J){R=new Date(O,R,J);
O>=0&&O<100&&R.setFullYear(R.getFullYear()-1900);return R},ED=function(O,R){O.getDate()!=R&&O.date.setUTCHours(O.date.getUTCHours()+(O.getDate()<R?1:-1))},DB=function(O,R){g.HD.call(this,O,{Y:"div",
G:"ytp-reminder-menu",C:{role:"menu",tabindex:"-1"},K:[{Y:"div",G:"ytp-reminder-menu-contents",K:[{Y:"div",G:"ytp-reminder-menu-items"}]}]},100,!0);this.L=R;this.B=[];this.menuPopupRenderer=void 0;this.items=this.Bq("ytp-reminder-menu-items");this.hide()},Y16=function(O){return(O.menuPopupRenderer&&O.menuPopupRenderer.items||[]).reduce(function(R,J){J&&J.menuServiceItemRenderer&&R.push(J.menuServiceItemRenderer);
return R},[])},aS=function(O){g.L.call(this,{Y:"div",
K:[{Y:"button",q1:["ytp-offline-slate-button","ytp-button"],K:[{Y:"div",G:"ytp-offline-slate-button-icon",FQ:"{{icon}}"},{Y:"div",G:"ytp-offline-slate-button-text",FQ:"{{text}}"}]}]});this.X=O;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.S=void 0;this.N=this.L=null;(this.j=this.Bq("ytp-offline-slate-button"))&&this.U(this.j,"click",this.J);this.hide()},hKC=function(O,R,J){!O.toggleButtonRenderer&&R&&R.toggleButtonRenderer?O.toggleButtonRenderer=R.toggleButtonRenderer:
R&&R.toggleButtonRenderer||(O.toggleButtonRenderer=null);
!O.upcomingEventReminderButtonRenderer&&J&&g.x(J,d36)?O.upcomingEventReminderButtonRenderer=g.x(J,d36):J&&g.x(J,d36)||(O.upcomingEventReminderButtonRenderer=null);vt(O)},vt=function(O){if(O.toggleButtonRenderer){var R=O.toggleButtonRenderer;
if(R.isToggled){var J=R.toggledText?g.V8(R.toggledText):"";O.update({text:J,icon:zK_(R.toggledIcon)})}else J=R.defaultText?g.V8(R.defaultText):"",O.update({text:J,icon:zK_(R.defaultIcon)});O.show()}else O.upcomingEventReminderButtonRenderer?(R=nlo(O))?(J=R.text?g.V8(R.text):"",O.update({text:J,icon:zK_(R.icon)}),O.show()):O.hide():O.hide()},OiQ=function(O,R,J){O.N||(O.N=new g.OZ(O.X.T().CE));
var l={context:g.IA(O.N.config_||g.wH())};g.X5()&&(l.context.clientScreenNonce=g.X5());l.params=J;g.RV(O.N,R,l,{timeout:5E3,onSuccess:function(){O.upcomingEventReminderButtonRenderer&&O.S&&(O.upcomingEventReminderButtonRenderer.currentState=O.S,O.S=void 0)},
onError:function(){ci6(O)},
onTimeout:function(){ci6(O)}})},ci6=function(O){O.toggleButtonRenderer?(O.toggleButtonRenderer.isToggled=!O.toggleButtonRenderer.isToggled,vt(O)):O.upcomingEventReminderButtonRenderer&&(O.S=void 0,vt(O))},zK_=function(O){if(!O)return null;
switch(O.iconType){case "NOTIFICATIONS":return U3t();case "NOTIFICATIONS_NONE":return jT4();case "NOTIFICATIONS_ACTIVE":return g.vT();default:return null}},nlo=function(O){if(!O.upcomingEventReminderButtonRenderer)return null;
var R=O.S||O.upcomingEventReminderButtonRenderer.currentState;O=g.N(O.upcomingEventReminderButtonRenderer.states||[]);for(var J=O.next();!J.done;J=O.next())if((J=g.x(J.value,RkR))&&J.state===R&&J.button&&g.x(J.button,g.HO))return g.x(J.button,g.HO);return null},JZC=function(O){g.L.call(this,{Y:"div",
G:"ytp-offline-slate",K:[{Y:"div",G:"ytp-offline-slate-background"},{Y:"div",G:"ytp-offline-slate-bar",K:[{Y:"span",G:"ytp-offline-slate-icon",K:[{Y:"svg",C:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},K:[{Y:"path",C:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{Y:"circle",C:{cx:"12",cy:"12",r:"3"}}]}]},{Y:"span",G:"ytp-offline-slate-messages",K:[{Y:"div",G:"ytp-offline-slate-main-text",C:{"aria-label":"{{label}}"},FQ:"{{mainText}}"},{Y:"div",G:"ytp-offline-slate-subtitle-text",FQ:"{{subtitleText}}"}]},{Y:"span",G:"ytp-offline-slate-buttons"}]},{Y:"button",q1:["ytp-offline-slate-close-button","ytp-button"],K:[g.my()]},{Y:"button",q1:["ytp-offline-slate-open-button","ytp-button"],K:[g.NI()]}]});var R=this;this.api=O;this.L=this.S=null;this.background=this.Bq("ytp-offline-slate-background");
this.B=this.Bq("ytp-offline-slate-bar");this.j=new g.zR(function(){g.F8(R.B,"ytp-offline-slate-bar-fade")},15E3);
this.J=!1;this.N=new g.zR(function(){g.F8(R.element,"ytp-offline-slate-collapsed")},15E3);
g.H(this,this.N);g.H(this,this.j);this.countdownTimer=new g.zR(this.oW,1E3,this);this.U(O,"presentingplayerstatechange",this.L4);this.U(O,"livestatedata",this.au);this.U(this.Bq("ytp-offline-slate-close-button"),"click",function(){g.F8(R.element,"ytp-offline-slate-collapsed")});
this.U(this.Bq("ytp-offline-slate-open-button"),"click",function(){g.KM(R.element,"ytp-offline-slate-collapsed")});
this.hide();O=this.getVideoData();O.getPlayerResponse()&&(O=g.e(O.getPlayerResponse()).playabilityStatus)&&this.au(O);O=this.api.getPresentingPlayerType()===8&&!this.getVideoData().HI;var J=this.api.getPresentingPlayerType()===8;g.wI(this.element,"ytp-offline-slate-premiere-trailer",O);g.wI(this.element,"ytp-offline-slate-hide-background",J)},gGC=function(O,R,J){if(R){var l=R.subtitleText!=null?g.V8(R.subtitleText):"";
J=J?J:R.mainText!=null?g.V8(R.mainText):"";var u,F,G,y;R=(y=(u=R.mainText)==null?void 0:(F=u.accessibility)==null?void 0:(G=F.accessibilityData)==null?void 0:G.label)!=null?y:J;O.update({mainText:J,subtitleText:l,label:R});g.wI(O.element,"ytp-offline-slate-single-text-line",!l);g.wI(O.B,"ytp-offline-slate-bar-hidden",!J&&!l)}},XW=function(O,R){var J=(0,g.Q)();
this.trigger=O;this.L=R;this.B=J},KQM=function(O){g.tN.call(this,O);
var R=this;this.J=!1;this.V=0;this.D=!1;this.S=new g.zR(function(){iiQ(R)},0);
this.L=this.heartbeatParams=null;this.N=!1;this.j=new g.p7(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.SN=new g.OZ(void 0);this.attestationResponse=Promise.resolve(void 0);this.W=Promise.resolve(void 0);this.utcOffsetMinutes=-(new Lxs).getTimezoneOffset();this.B=new g.p8(this);g.H(this,this.S);g.H(this,this.B);l3M(this);uxb(this);this.B.U(O,"heartbeatparams",this.Yf);this.B.U(O,"presentingplayerstatechange",this.YF);this.B.U(O,"videoplayerreset",this.q_);this.B.U(O,g.Gh("heartbeat"),
this.onCueRangeEnter);this.N&&this.L&&FQ_(this,void 0,this.L);var J=new g.uN(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),l=new g.uN(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});O.zy([J,l]);G9C(this)},G9C=function(O){var R=O.getVideoData();
!R.Z("use_rta_for_player")&&R.MM&&(R=R.botguardData)&&g.Q5(R,O.player.T())},yZk=function(O){var R,J;
return g.A(function(l){if(l.S==1)return g.k(l,g.NQs(),2);if(!l.L)return O.sequenceNumber>=3?l.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):l.return(void 0);R=O.getVideoData();J={};return l.return(g.SZ_((J.cpn=R.clientPlaybackNonce,J.encryptedVideoId=R.videoId||"",J),1500))})},l3M=function(O){var R=O.getVideoData();
if(R.MM)if(R.Z("use_rta_for_player"))O.attestationResponse=yZk(O);else if(R=new g.MdA(R),g.xk.isInitialized()||O.sequenceNumber>=3){var J=Promise,l=J.resolve,u=null;if(R.videoData.Vl){var F=g.qmA(R);if(F){u={};var G={};F=F.split("&");F=g.N(F);for(var y=F.next();!y.done;y=F.next())y=y.value.split("="),y.length===2&&(G[y[0]]=y[1]);G.r1a&&(u.webResponse=G.r1a);G.r1c&&(u.error=w14[Number(G.r1c)]);u.challenge=R.videoData.Vl}}O.attestationResponse=l.call(J,u||void 0)}},I3C=function(O){var R=O.getVideoData();
if(!g.fQ(O.getVideoData())||R.mE)return!1;if(R.D){O=R.D.flavor==="playready"&&R.Z("html5_innertube_heartbeats_for_playready");var J=R.D.flavor==="widevine"&&R.Z("html5_innertube_heartbeats_for_widevine");R=g.Y2(R.D)&&R.Z("html5_innertube_heartbeats_for_fairplay");return!(O||J||R)}return!0},Cms=function(O){if(I3C(O))return!!O.heartbeatParams;
var R=O.getVideoData();return!g.fQ(O.getVideoData())||R.Ra||R.Pd?!!R.heartbeatToken:!1},Tn=function(O,R){if(!O.S.isActive()&&O.J){var J=O.getVideoData();
if(Cms(O)||J.isLivePlayback){if(R===void 0)if(O.D)if(O.N)R=7500;else{var l;R=((l=O.heartbeatParams)==null?0:l.interval)?O.heartbeatParams.interval*1E3:O.getVideoData().DB||6E4}else R=1E3;O.S.start(R)}}},ZiQ=function(O,R,J){R.fI&&(J=g.s9(J,{internalipoverride:R.fI}));
var l={cpn:R.clientPlaybackNonce};R.contextParams&&(l.context_params=R.contextParams);R.Jo&&(l.kpt=R.Jo);J=g.s9(J,l);g.a9(J,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(u){if(!O.S.isActive()&&$c(O)){O.j.reset();O.sequenceNumber++;u=u.responseText;var F=rZk(u);if(F){O.player.tR("onHeartbeat",F);var G=F.status==="ok"?F.stop_heartbeat?2:0:F.status==="stop"?1:F.status==="live_stream_offline"?0:-1}else G=(G=u.match(tyM))?G[1]==="0"?0:1:-1;oGC(O,void 0,F,u,G)}},
onError:function(u){$c(O)&&Mo(O,!0,"net-"+u.status)},
onTimeout:function(){$c(O)&&Mo(O,!0,"timeout")},
withCredentials:!0})},iiQ=function(O){var R,J;
g.A(function(l){R=O.player.T();J=O.getVideoData();if(!$c(O))return l.return();if(I3C(O))return Vy6(O,R,J),l.pJ(0);l3M(O);return g.k(l,f3C(O,R,J),0)})},Vy6=function(O,R,J){var l;
if((l=O.heartbeatParams)!=null&&l.url){var u=g.s9(O.heartbeatParams.url,{request_id:g.m5A()});J.xS&&(u=g.s9(u,{vvt:J.xS}),J.mdxEnvironment&&(u=g.s9(u,{mdx_environment:J.mdxEnvironment})));g.lr(R,J.oauthToken).then(function(F){F&&(u=g.s9(u,{access_token:F}));ZiQ(O,J,u)})}},$c=function(O){var R=O.getVideoData();
return O.player.getPresentingPlayerType()===3||g.d(O.player.getPlayerStateObject(O.getPlayerType()),4)?!1:Cms(O)||R.isLivePlayback?!0:(qo(O),!1)},f3C=function(O,R,J){var l,u,F,G,y,w,I,C,r,t,Z,V,m,E,a,v,b,W,B,z;
return g.A(function(Y){if(Y.S==1)return l="player/heartbeat",F={videoId:J.videoId,sequenceNumber:O.sequenceNumber,heartbeatServerData:(u=O.Hq)!=null?u:J.heartbeatServerData},O.W=O.attestationResponse,J.MM?g.k(Y,O.W,3):Y.pJ(2);Y.S!=2&&(F.attestationResponse=Y.L);G=g.uR(J);w=(y=G.client)!=null?y:{};w.utcOffsetMinutes=O.utcOffsetMinutes;F.context=G;F.cpn=J.clientPlaybackNonce;if(I=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)w.timeZone=I;C={heartbeatChecks:[]};
if(r=J.getPlayerResponse())J.heartbeatToken&&(F.heartbeatToken=J.heartbeatToken),(t=r.playabilityStatus)&&(Z=t.liveStreamability)&&Z.liveStreamabilityRenderer&&C.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");J.heartbeatToken&&C.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.XV(R)&&(C.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),V=SBM(O),m={},V!==null&&(m.clientPlayerPositionUtcMillis=V),a=(E=O.player.eG())==null?void 0:g.XJ(E),b=((v=a)==null?void 0:v.freePreviewWatchedDuration)||
0,b>0&&(m.freePreviewWatchedDuration={seconds:""+b}),C.unpluggedParams=m);F.heartbeatRequestParams=C;J.isLivePlayback?(W=SBM(O),W!==null&&(F.playbackState||(F.playbackState={}),F.playbackState.playbackPosition={utcTimeMillis:W})):R.Z("enable_heartbeat_vod_playback_position")&&(B=NJV(O),B!==null&&(F.playbackState||(F.playbackState={}),F.playbackState.playbackPosition={streamTimeMillis:B}));O.player.publish("heartbeatRequest",F);z={timeout:3E4,onSuccess:function(gh){if(!O.S.isActive()&&$c(O)){var l2=
O.getVideoData(),O_=l2.MM&&O.W==null,Kx;l2.MM=!((Kx=gh.heartbeatAttestationConfig)==null||!Kx.requiresAttestation)||O_;O_=gh.playabilityStatus;Kx=JSON.stringify(O_)||"{}";gh.authenticationMismatch&&O.player.nJ("authshear",{});var n=-1;var mH=gh.playabilityStatus;mH&&(O.player.tR("onHeartbeat",mH),mH.status==="OK"?n=gh.stopHeartbeat?2:0:mH.status==="UNPLAYABLE"?n=1:mH.status==="LIVE_STREAM_OFFLINE"&&(n=0));O.sequenceNumber&&n===-1||O.j.reset();O.sequenceNumber++;gh.heartbeatServerData&&(O.Hq=gh.heartbeatServerData);
l2.Mh=gh;(mH=gh.playerCueRangeSet)&&g.zq(l2,mH);gh.playerCueRanges&&gh.playerCueRanges.length>0&&(l2.cueRanges=gh.playerCueRanges);var Xp,xW;((Xp=gh.progressBarConfig)==null?0:Xp.progressBarStartPosition)&&((xW=gh.progressBarConfig)==null?0:xW.progressBarEndPosition)&&(l2.progressBarStartPosition=gh.progressBarConfig.progressBarStartPosition,l2.progressBarEndPosition=gh.progressBarConfig.progressBarEndPosition);l2.compositeLiveIngestionOffsetToken=gh.compositeLiveIngestionOffsetToken;gh.compositeLiveStatusToken!==
l2.compositeLiveStatusToken&&(l2.compositeLiveStatusToken=gh.compositeLiveStatusToken);l2.publish("dataupdated");oGC(O,gh,O_,Kx,n)}},
onError:function(gh){$c(O)&&Mo(O,!0,"net-"+gh.status)},
onTimeout:function(){$c(O)&&Mo(O,!0,"timeout")}};
g.lr(R,g.pQ(J)).then(function(gh){gh&&(z.V1="Bearer "+gh);g.RV(O.SN,l,F,z)});
g.ST(Y)})},oGC=function(O,R,J,l,u){u===-1?(J="decode "+g.J8(l,3),Mo(O,!1,J)):u===2?(qo(O),O.D=!0):(O.V=0,O.S.stop(),u===1?(O.D=!1,J&&J.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&O.player.k7(!0),u="pe."+(J==null?void 0:J.errorCode)+";ps."+(J==null?void 0:J.status),O.player.Qk("heartbeat.stop",2,O.HH(l),u),g.wj("heartbeatActionPlayerHalted",mm6(J)),(R==null?0:R.videoTransitionEndpoint)&&J&&(R=R.videoTransitionEndpoint,(l=g.x(R,g.cx))&&EGb(O,l,J,{itct:R==null?void 0:R.clickTrackingParams}))):(O.D=
!0,l=0,O.N&&J&&(l=FQ_(O,R,J),O.player.publish("livestatedata",J)),l?Tn(O,l):Tn(O)))},FQ_=function(O,R,J){var l=J.liveStreamability&&J.liveStreamability.liveStreamabilityRenderer,u=!(!l||!(l.switchStreamsImmediately||l.transitionTiming&&l.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
R=Dmb(O,R,l);var F=O.getVideoData(),G=O.player.getPlayerStateObject(O.getPlayerType()),y=G.isPlaying()&&!g.XD(F)&&!O.player.isAtLiveHead(O.getPlayerType());if(F.T().DA()){var w,I=((w=O.player.FK())==null?void 0:w.sf())||{};I.status=J.status||"";I.dvr=""+ +y;I["switch"]=""+ +u;I.ended=""+ +!(!l||!l.displayEndscreen);O.player.nJ("heartbeat",I)}w=O.player.Z("always_cache_redirect_endpoint");if(y&&!u&&!w)return R;I=l&&l.streamTransitionEndpoint&&g.x(l.streamTransitionEndpoint,g.cx);var C=l&&l.transitionTiming;
if(C==="STREAM_TRANSITION_TIMING_AT_STREAM_END")O.getVideoData().transitionEndpointAtEndOfStream=I;else if(w&&!I&&O.getVideoData().transitionEndpointAtEndOfStream)O.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!w&&I&&EGb(O,I,J))return R;if(y&&!u&&w||w&&I&&(C==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||C==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&EGb(O,I,J))return R;if(J.status.toUpperCase()==="OK"){u=l&&l.broadcastId;y=O.L&&O.L.liveStreamability&&O.L.liveStreamability.liveStreamabilityRenderer&&
O.L.liveStreamability.liveStreamabilityRenderer.broadcastId;w=u!==y&&u!=null;if(!g.EI(F)||w){var r={video_id:F.videoId};F.gD&&(r.is_live_destination="1");r.disable_watch_next=!0;r.raw_watch_next_response=F.getWatchNextResponse();r.autonav_state=F.autonavState;r.oauth_token=F.oauthToken;r.Ea=F.Ea;F.j&&(r.vss_credentials_token=F.j,r.vss_credentials_token_type=F.SU);F.xS&&(r.vvt=F.xS);l=void 0;g.EI(F)?w&&(l=new XW("broadcastIdChanged",y+","+u),O.nj("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
J)):(u&&(l=new XW("formatsReceived",""+u)),O.nj("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",J));O.player.loadVideoByPlayerVars(r,void 0,void 0,void 0,l);return R}O.player.nA("heartbeat",O.getPlayerType())}l&&l.displayEndscreen&&(O.offlineSlate?(O=O.offlineSlate,O.J=!0,O.ou&&O.api.Yt()):G.isBuffering()&&(F=((r=O.player.FK())==null?void 0:r.sf())||{},O.player.nJ("hbse",F,!0),O.player.Yt(),O.player.tR("onLiveMediaEnded",J)));return R},Dmb=function(O,
R,J){return O.player.Z("web_player_use_heartbeat_poll_delay_ms")&&(O=Number(R==null?void 0:R.pollDelayMs))?O:(J=Number(J==null?void 0:J.pollDelayMs))?J:0},Mo=function(O,R,J){var l=O.player.T();
if(!O.S.isActive()){O.S.stop();O.V++;var u=R?"heartbeat.net":"heartbeat.servererror";var F=O.getVideoData();if(F.Bb||R&&!g.fQ(O.getVideoData())&&!Cms(O)&&F.isLivePlayback)F=!1;else{var G,y;((y=O.heartbeatParams)==null?0:y.retries)?G=O.heartbeatParams.retries:G=F.Ww||5;F=O.V>=G}F?(g.wj("heartbeatActionPlayerHalted",R?{enforcedPolicyToHaltOnNetworkFailure:!0}:mm6()),(R=O.getVideoData())&&R.isLivePlayback?O.player.Qk(u,1,"Pemutaran video mengalami gangguan. Coba lagi.",J):O.player.Qk(u,1,"Maaf, terjadi error saat memberikan lisensi untuk video ini.",
J)):(l.Z("html5_report_non_fatal_heartbeat_error")&&O.player.s6(u,{msg:J}),Tn(O,O.j.getValue()),g.B3(O.j))}},mm6=function(O){var R={enforcedPolicyToHaltOnNetworkFailure:!1};
O&&(R.serializedServerContext=O.additionalLoggingData);return R},qo=function(O){O.V=0;
O.S.stop();O.D=!1;O.sequenceNumber=0},uxb=function(O){var R=O.getVideoData(),J=O.player.T();
if(R.isLivePlayback)if(g.uo(J.D)){O.N=!0;O.J=!0;if(!g.$T(J)||g.XV(J))O.offlineSlate=new JZC(O.player),g.H(O,O.offlineSlate),g.bR(O.player,O.offlineSlate.element,4);(R=R.getPlayerResponse())&&R.playabilityStatus&&(O.L=R.playabilityStatus);var l;((l=O.L)==null?void 0:l.status)!=="UNPLAYABLE"&&(O.L?(l=Dmb(O,void 0,O.L.liveStreamability&&O.L.liveStreamability.liveStreamabilityRenderer))?Tn(O,l):Tn(O,7500):Tn(O,1E3))}else O.player.Qk("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.Zo(R.OQ,"heartbeat")&&O.player.nA("heartbeat",O.getPlayerType())},EGb=function(O,R,J,l){var u=R&&R.videoId;
return u?(O.player.HM(u,Object.assign({},{autonav:"1"},l||{}),void 0,!0,!0,R,g.pQ(O.getVideoData())),O.nj("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",J),!0):!1},SBM=function(O){return(O=O.player.getProgressState(O.getPlayerType()).ingestionTime)&&isFinite(O)?""+Math.floor(O*1E3):null},NJV=function(O){return(O=O.player.getCurrentTime(O.getPlayerType()))&&isFinite(O)?""+Math.floor(O*1E3):null},rZk=function(O){try{var R=JSON.parse(O);
return R!=null?R:void 0}catch(J){}},a3C={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
a3C={ERAS:["SM","M"],ERANAMES:["Sebelum Masehi","Masehi"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agu Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agu Sep Okt Nov Des".split(" "),
WEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),STANDALONEWEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),SHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),NARROWWEEKDAYS:"MSSRKJS".split(""),STANDALONENARROWWEEKDAYS:"MSSRKJS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM y","d MMMM y",
"d MMM y","dd/MM/yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} 'pukul' {0}","{1} 'pukul' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
var w14=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],vG6={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.f=Lxs.prototype;g.f.tb=a3C.FIRSTDAYOFWEEK;g.f.Ci=a3C.FIRSTWEEKCUTOFFDAY;
g.f.clone=function(){var O=new Lxs(this.date);O.tb=this.tb;O.Ci=this.Ci;return O};
g.f.getFullYear=function(){return this.date.getFullYear()};
g.f.getYear=function(){return this.getFullYear()};
g.f.getMonth=function(){return this.date.getMonth()};
g.f.getDate=function(){return this.date.getDate()};
g.f.getTime=function(){return this.date.getTime()};
g.f.getDay=function(){return this.date.getDay()};
g.f.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.f.getUTCMonth=function(){return this.date.getUTCMonth()};
g.f.getUTCDate=function(){return this.date.getUTCDate()};
g.f.getUTCDay=function(){return this.date.getDay()};
g.f.getUTCHours=function(){return this.date.getUTCHours()};
g.f.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.f.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.f.set=function(O){this.date=new Date(O.getFullYear(),O.getMonth(),O.getDate())};
g.f.setFullYear=function(O){this.date.setFullYear(O)};
g.f.setYear=function(O){this.setFullYear(O)};
g.f.setMonth=function(O){this.date.setMonth(O)};
g.f.setDate=function(O){this.date.setDate(O)};
g.f.setTime=function(O){this.date.setTime(O)};
g.f.setUTCFullYear=function(O){this.date.setUTCFullYear(O)};
g.f.setUTCMonth=function(O){this.date.setUTCMonth(O)};
g.f.setUTCDate=function(O){this.date.setUTCDate(O)};
g.f.add=function(O){if(O.years||O.months){var R=this.getMonth()+O.months+O.years*12,J=this.getYear()+Math.floor(R/12);R%=12;R<0&&(R+=12);a:{switch(R){case 1:var l=J%4!=0||J%100==0&&J%400!=0?28:29;break a;case 5:case 8:case 10:case 3:l=30;break a}l=31}l=Math.min(l,this.getDate());this.setDate(1);this.setFullYear(J);this.setMonth(R);this.setDate(l)}O.days&&(J=this.getYear(),R=J>=0&&J<=99?-1900:0,O=new Date((new Date(J,this.getMonth(),this.getDate(),12)).getTime()+O.days*864E5),this.setDate(1),this.setFullYear(O.getFullYear()+
R),this.setMonth(O.getMonth()),this.setDate(O.getDate()),ED(this,O.getDate()))};
g.f.equals=function(O){return!(!O||this.getYear()!=O.getYear()||this.getMonth()!=O.getMonth()||this.getDate()!=O.getDate())};
g.f.toString=function(){var O=this.getFullYear(),R=O<0?"-":O>=1E4?"+":"";return[R+x3_(Math.abs(O),R?6:4),x3_(this.getMonth()+1,2),x3_(this.getDate(),2)].join("")+""};
g.f.valueOf=function(){return this.date.valueOf()};var X1s=new g.vi("addUpcomingEventReminderEndpoint");var TJ_=new g.vi("removeUpcomingEventReminderEndpoint");var $mo=new g.vi("updateUpcomingEventReminderButtonStateCommand");var d36=new g.vi("upcomingEventReminderButtonRenderer"),RkR=new g.vi("upcomingEventReminderButtonStateRenderer");g.S(DB,g.HD);
DB.prototype.updateMenuItems=function(){var O=this,R=Y16(this),J=0;J=0;for(var l={};J<R.length;l={bE:void 0},J++){var u=this.B[J];u||(u=new g.L({Y:"div",G:"ytp-reminder-menu-item",C:{role:"menuitem",tabindex:"0"},K:[{Y:"div",G:"ytp-reminder-menu-item-icon",FQ:"{{icon}}"},{Y:"div",G:"ytp-reminder-menu-item-label",FQ:"{{text}}"}]}),l.bE=J,u.listen("click",function(G){return function(){var y=G.bE;O.Xh();y=Y16(O)[y];O.publish("reminderMenuItemClicked",y.serviceEndpoint||y.command)}}(l)),u.hR(this.items),
this.B[J]=u);
var F=R[J];l=null;switch(F.icon&&F.icon.iconType){case "NOTIFICATIONS":l=U3t();break;case "NOTIFICATIONS_NONE":l=jT4();break;case "NOTIFICATIONS_ACTIVE":l=g.vT()}F=F.text?g.V8(F.text):"";u.update({icon:l,text:F})}for(;J<this.B.length;)this.B.pop().dispose();J===0?this.Xh():this.EZ(this.L)};
DB.prototype.hide=function(){this.L&&this.L.removeAttribute("aria-haspopup");g.HD.prototype.hide.call(this)};
DB.prototype.show=function(){this.L&&this.L.setAttribute("aria-haspopup","true");g.HD.prototype.show.call(this)};
DB.prototype.eN=function(){g.ti(this.B);g.HD.prototype.eN.call(this)};g.S(aS,g.L);
aS.prototype.J=function(){if(this.toggleButtonRenderer){var O=this.toggleButtonRenderer;O.isToggled?this.B(O.toggledServiceEndpoint):this.B(O.defaultServiceEndpoint);O.isToggled=!O.isToggled;vt(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.L&&this.L.ou)this.L.Xh();else{var R=nlo(this);R&&this.B(R.serviceEndpoint||R.command);R=((O=g.x(R==null?void 0:R.command,g.f9))==null?void 0:O.commands)||[];a:{O=g.N(R);for(var J=O.next();!J.done;J=O.next()){var l=R=void 0;if(J=(R=g.x(J.value,g.nbQ))==
null?void 0:(l=R.popup)==null?void 0:l.menuPopupRenderer){O=J;break a}}O=void 0}this.L||(this.L=new DB(this.X,this.j),this.L.hR(this.element),g.H(this,this.L),this.L.subscribe("reminderMenuItemClicked",this.B,this));R=this.L;R.menuPopupRenderer=O;R.updateMenuItems()}};
aS.prototype.B=function(O){var R=g.x(O,X1s),J=g.x(O,TJ_);if(O&&(R||J)){if(R){var l=R;var u="notification/add_upcoming_event_reminder"}else J&&(l=J,u="notification/remove_upcoming_event_reminder");if(u&&l&&l.params)for(OiQ(this,u,l.params),O=g.N(l.commands||[]),R=O.next();!R.done;R=O.next())if((R=R.value)&&g.x(R,$mo)){this.S=g.x(R,$mo).state;vt(this);break}}};g.S(JZC,g.L);g.f=JZC.prototype;g.f.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.f.getVideoData=function(){return g.e(this.api.getVideoData(this.getPlayerType()))};
g.f.au=function(O){var R,J,l=O==null?void 0:(R=O.liveStreamability)==null?void 0:(J=R.liveStreamabilityRenderer)==null?void 0:J.offlineSlate;if(l){this.S=O;R=l.liveStreamOfflineSlateRenderer;R.canShowCountdown?this.oW():gGC(this,R);var u,F,G,y;if(J=O==null?void 0:(u=O.liveStreamability)==null?void 0:(F=u.liveStreamabilityRenderer)==null?void 0:(G=F.offlineSlate)==null?void 0:(y=G.liveStreamOfflineSlateRenderer)==null?void 0:y.thumbnail){u=0;F=null;G=J.thumbnails;for(y=0;y<G.length;y++)G[y].width>
u&&(u=G[y].width||0,F=G[y].url);F&&(this.background.style.backgroundImage="url("+F+")")}else this.background.style.backgroundImage="";R.actionButtons||R.reminderButton?(this.L||(this.L=new aS(this.api),this.L.hR(this.Bq("ytp-offline-slate-buttons")),g.H(this,this.L)),hKC(this.L,R.actionButtons&&R.actionButtons[0],R.reminderButton)):this.L&&hKC(this.L,null,null);this.S=O}else this.S=null;this.L4()};
g.f.L4=function(O){if(this.api.getPresentingPlayerType()===8)var R=!0;else{var J=this.api.getPlayerStateObject(),l=this.getVideoData();R=l.isLivePlayback&&(J.isBuffering()||g.d(J,2)||g.d(J,64));var u=l.autonavState===2&&g.d(J,2);J=J.isPlaying()&&!g.XD(l)&&!this.api.isAtLiveHead(void 0,!0);R=R&&!J&&!u}R&&this.S?this.ou?(O==null?0:g.Z_(O,2))&&!this.getVideoData().HI&&(g.KM(this.element,"ytp-offline-slate-collapsed"),this.N.stop(),g.KM(this.B,"ytp-offline-slate-bar-fade"),this.j.start()):(this.show(),
this.N.start(),this.api.publish("offlineslatestatechange"),this.J&&this.api.Yt()):this.ou&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.f.oW=function(){var O,R,J,l,u=(O=this.S)==null?void 0:(R=O.liveStreamability)==null?void 0:(J=R.liveStreamabilityRenderer)==null?void 0:(l=J.offlineSlate)==null?void 0:l.liveStreamOfflineSlateRenderer;u&&(O=Math.floor(g.Fk()/1E3),R=u.canShowCountdown&&Number(u.scheduledStartTime),!R||R<=O?(gGC(this,u),this.countdownTimer.stop()):(gGC(this,u,g.vI(R-O)),g.nP(this.countdownTimer)))};
g.f.eN=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.L.prototype.eN.call(this)};XW.prototype.S=function(O){return this.trigger&&O.trigger?this.trigger===O.trigger&&this.L===O.L:!1};
XW.prototype.isExpired=function(){return(0,g.Q)()-this.B>6E4};
XW.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.L};g.S(KQM,g.tN);g.f=KQM.prototype;g.f.eN=function(){qo(this);this.player.XK("heartbeat");g.tN.prototype.eN.call(this)};
g.f.onCueRangeEnter=function(){this.J=!0;Tn(this,2E3)};
g.f.Yf=function(O){this.heartbeatParams=O;Tn(this,2E3)};
g.f.YF=function(O){var R;this.player.getPresentingPlayerType()!==8&&((R=this.L)==null?void 0:R.status)!=="UNPLAYABLE"&&(g.d(O.state,2)||g.d(O.state,64)?(qo(this),this.N&&(this.J=!0,Tn(this,1E3))):(g.d(O.state,1)||g.d(O.state,8))&&Tn(this,2E3))};
g.f.q_=function(){this.player.getPresentingPlayerType()!==3&&Tn(this,2E3)};
g.f.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.f.getVideoData=function(){return g.e(this.player.getVideoData(this.getPlayerType()))};
g.f.t4=function(O){switch(O){case 4:case 3:return!1}return!0};
g.f.nj=function(O,R,J){O={trigger:O,reason:R};J&&(O.serializedServerContext=J.additionalLoggingData);g.wj("heartbeatActionPlayerTransitioned",O)};
g.f.HH=function(O){var R="LICENSE",J=rZk(O);if(J)return J.reason||g.eK[R]||"";if(O=O.match(tyM))if(O=Number(O[1]))R=(R=vG6[O.toString()])?R:"LICENSE";return g.eK[R]||""};
g.f.MR=function(){return!!this.offlineSlate&&this.offlineSlate.ou};
var tyM=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.r5("heartbeat",KQM);})(_yt_player);
